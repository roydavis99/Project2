<!DOCTYPE html>
<html>

<head>
    <style>
        /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
        #map {
            height: 100%;
        }

        /* Optional: Makes the sample page fill the window. */
        html,
        body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
    </style>
</head>

<body>

    <script>
        const arr = [{ lat: 36.103008, lng: -115.178196, title: 'T-Mobile Arena' },
        { lat: 43.6136111, lng: -116.2025, title: 'Taco Bell Arena' },
        {
            lat: 40.76772,
            lng: -111.901127,
            title: 'Vivint Smart Home Arena'
        },
        { lat: 47.66546, lng: -117.422404, title: 'Spokane Arena' },
        { lat: 45.531982, lng: -122.667838, title: 'Moda Center' },
        { lat: 38.5800073, lng: -121.5009825, title: 'Golden 1 Center' },
        { lat: 36.809691, lng: -119.7385011, title: 'Save Mart Center' },
        { lat: 36.152766, lng: -95.996416, title: 'BOK Center' },
        { lat: 34.7550895, lng: -92.2643235, title: 'Verizon Arena' },
        {
            lat: 33.5205556,
            lng: -86.8025,
            title: 'Legacy Arena at The BJCC'
        },
        { lat: 36.1593994, lng: -86.7785057, title: 'Bridgestone Arena' },
        { lat: 35.8033394, lng: -78.7217946, title: 'PNC Arena' },
        { lat: 39.0979112, lng: -84.5046276, title: 'U.S. Bank Arena' },
        {
            lat: 41.4965997,
            lng: -81.6882119,
            title: 'Quicken Loans Arena'
        },
        { lat: 31.777489, lng: -106.505564, title: 'Don Haskins Center' },
        {
            lat: 33.581334,
            lng: -101.88656300000002,
            title: 'United Supermarkets Arena'
        },
        { lat: 37.6825, lng: -97.332804, title: 'Intrust Bank Arena' },
        { lat: 39.0972997, lng: -94.5799392, title: 'Sprint Center' },
        { lat: 38.25486, lng: -85.766404, title: 'KFC Yum! Center' },
        {
            lat: 39.7639301,
            lng: -86.1554641,
            title: 'Bankers Life Fieldhouse'
        },
        { lat: 42.963099, lng: -85.671624, title: 'Van Andel Arena' }]
    </script>



    <div id="map"></div>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
    <script>
        function initMap() {

            var map = new google.maps.Map(document.getElementById('map'), {
                zoom: 8,
            });

            var directionsService = new google.maps.DirectionsService;
            var directionsDisplay = new google.maps.DirectionsRenderer({
                draggable: false,
                map: map,
            });

            var stopsOnRoute = [];

            for (let i = 1; i < arr.length - 1; i++) {
                stopsOnRoute.push({
                    location: {
                        lat: arr[i].lat,
                        lng: arr[i].lng
                    }
                })
            }

            directionsService.route({
                origin: { lat: 39.2885817, lng: -76.61866680000003 },
                destination: { lat: arr[arr.length - 1].lat, lng: arr[arr.length - 1].lng },
                travelMode: 'DRIVING',
                waypoints: stopsOnRoute,
            }, (res, status) => {
                if (status === 'OK') {
                    directionsDisplay.setDirections(res);
                }
                else {
                    alert('Could not display directions due to : ' + status);
                }
            })


        }
    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCvR0p9pkTlpepgnQbEsCmuQ9F8_rTYSww&callback=initMap">































    </script>
</body>

</html>